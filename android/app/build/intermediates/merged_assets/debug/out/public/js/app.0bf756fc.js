(function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],l=0,f=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b8b30":"ba2200fb","chunk-2d0be2dc":"daef5f07","chunk-2d0d3c84":"fa87ef87","chunk-2d0d6d65":"4a1c7601","chunk-2d0d78b2":"04298c0a","chunk-2d0e5f8f":"77d4898e","chunk-2d0e9381":"c36d5f80","chunk-2d0e9b48":"6032a29b","chunk-2d224c2b":"f3c17dbc"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var s=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0171":function(e,t,n){"use strict";n("e280")},"0c88":function(e,t,n){},"0dea":function(e,t,n){e.exports=n.p+"img/avatar.ede7ffbc.svg"},1:function(e,t){},2:function(e,t){},"32f6":function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="32f6"},3814:function(e,t,n){"use strict";n("7825")},"3b60":function(e,t,n){"use strict";n("556a")},4854:function(e,t,n){var r={"./ion-icon.entry.js":["2ec6","chunk-2d0be2dc"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="4854",e.exports=a},"556a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("b64b"),n("ac1f"),n("5319"),n("25f0"),n("159b"),n("00b4"),n("96cf"),n("7a23"));function i(e,t){var n=Object(a["H"])("ion-router-outlet"),r=Object(a["H"])("ion-content"),i=Object(a["H"])("ion-app");return Object(a["z"])(),Object(a["f"])(i,null,{default:Object(a["N"])((function(){return[Object(a["k"])(r,null,{default:Object(a["N"])((function(){return[Object(a["k"])(n)]})),_:1})]})),_:1})}var o=n("6b0d"),c=n.n(o);const u={},s=c()(u,[["render",i]]);var l=s,d=n("bec5"),f=function(e){return Object(a["C"])("data-v-bea54abc"),e=e(),Object(a["A"])(),e},b={key:0,class:"wh-100"},p={key:1,class:"instructions"},j=f((function(){return Object(a["i"])("h1",null,"Vitajte!",-1)})),v=f((function(){return Object(a["i"])("h4",null,"Užívateľské dáta!",-1)})),O=f((function(){return Object(a["i"])("p",null,"Zadajte prihlasovacie údaje do vašej domácej siete a umožnite komunikáciu so zariadeniami!",-1)})),m=f((function(){return Object(a["i"])("p",{class:"mt-1"},"Vložte vaše už existujúce dáta pre synchronizáciu údajov z iného mobilného zariadenia!",-1)})),h=[v,O,m],k=f((function(){return Object(a["i"])("h4",null,"Nové zaradenie!",-1)})),g=f((function(){return Object(a["i"])("p",null,"Pridajte vaše zariadenie pre jednoduché nastavenie časových plánov!",-1)})),w=[k,g];function y(e,t,n,r,i,o){var c=Object(a["H"])("Header"),u=Object(a["H"])("DeviceCard"),s=Object(a["H"])("swiper-slide"),l=Object(a["H"])("swiper"),d=Object(a["H"])("ion-content"),f=Object(a["H"])("ion-page");return Object(a["z"])(),Object(a["f"])(f,null,{default:Object(a["N"])((function(){return[Object(a["k"])(c,{title:"FeedIt",onAddClicked:t[0]||(t[0]=function(e){return o.openDeviceModal()}),onProfileClicked:t[1]||(t[1]=function(e){return o.openUserDataModal()}),ref:"header"},null,512),Object(a["k"])(d,null,{default:Object(a["N"])((function(){return[Object(a["k"])(a["c"],{name:"list"},{default:Object(a["N"])((function(){return[i.deviceProfiles.length?(Object(a["z"])(),Object(a["h"])("div",b,[Object(a["k"])(l,Object(a["p"])(i.swiperSettings,{ref:"deviceSwiper"}),{default:Object(a["N"])((function(){return[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["F"])(i.deviceProfiles,(function(e,t){return Object(a["z"])(),Object(a["f"])(s,{key:e},{default:Object(a["N"])((function(){return[Object(a["k"])(u,Object(a["p"])(e,{class:{"full-height":1==Object.keys(i.deviceProfiles).length},onRemoveRequest:function(e){return o.confirmDeviceDelete(t)},onEditRequest:function(e){return o.openDeviceModal(t)},ref_for:!0,ref:"slide"+t}),null,16,["class","onRemoveRequest","onEditRequest"])]})),_:2},1024)})),128))]})),_:1},16)])):(Object(a["z"])(),Object(a["h"])("div",p,[j,Object(a["i"])("div",{class:"ion-padding",onClick:t[2]||(t[2]=function(e){return o.openUserDataModal()})},h),Object(a["i"])("div",{class:"ion-padding",onClick:t[3]||(t[3]=function(e){return o.openDeviceModal()})},w)]))]})),_:1})]})),_:1})]})),_:1})}n("e9c4"),n("a434"),n("b0c0");var x=n("0dea"),N=n.n(x);function P(e,t,n,r,i,o){var c=Object(a["H"])("ion-title"),u=Object(a["H"])("ion-icon"),s=Object(a["H"])("ion-toolbar"),l=Object(a["H"])("ion-header");return Object(a["z"])(),Object(a["f"])(l,null,{default:Object(a["N"])((function(){return[Object(a["k"])(s,null,{default:Object(a["N"])((function(){return[Object(a["i"])("img",{src:N.a,slot:"start",onClick:t[0]||(t[0]=function(t){return e.$emit("profileClicked")})}),Object(a["k"])(c,null,{default:Object(a["N"])((function(){return[Object(a["j"])(Object(a["J"])(n.title),1)]})),_:1}),Object(a["k"])(u,{icon:e.icons.add,slot:"end",onClick:t[1]||(t[1]=function(t){return e.$emit("addClicked")})},null,8,["icon"])]})),_:1})]})),_:1})}var _={props:{title:{type:String,default:""}}};n("e6ff");const C=c()(_,[["render",P],["__scopeId","data-v-e16d7b50"]]);var D=C,z=n("fdb8"),M=n.n(z),S={class:"content"},H=Object(a["i"])("img",{src:M.a,alt:""},null,-1),R={class:"description"},V=Object(a["i"])("p",null,"Status:",-1),A={key:0,class:"indicator online"},I={key:1,class:"indicator offline"},T={key:2,class:"indicator error"},F=Object(a["i"])("h2",{slot:"start"},"Časové plány",-1),E=["onClick"],U={slot:"end",class:"d-flex ion-align-items-center"};function $(e,t,n,r,i,o){var c=Object(a["H"])("ion-icon"),u=Object(a["H"])("ion-fab-button"),s=Object(a["H"])("ion-fab-list"),l=Object(a["H"])("ion-fab"),d=Object(a["H"])("ion-card-header"),f=Object(a["H"])("ion-button"),b=Object(a["H"])("ion-item"),p=Object(a["H"])("ion-list-header"),j=Object(a["H"])("ion-toggle"),v=Object(a["H"])("ion-reorder"),O=Object(a["H"])("ion-item-option"),m=Object(a["H"])("ion-item-options"),h=Object(a["H"])("ion-item-sliding"),k=Object(a["H"])("ion-list"),g=Object(a["H"])("ion-card");return Object(a["z"])(),Object(a["f"])(g,{class:"device-card"},{default:Object(a["N"])((function(){return[Object(a["k"])(l,null,{default:Object(a["N"])((function(){return[Object(a["k"])(u,{color:"tertiary",class:"main-fab-btn"},{default:Object(a["N"])((function(){return[Object(a["k"])(c,{icon:e.icons.menu},null,8,["icon"])]})),_:1}),Object(a["k"])(s,null,{default:Object(a["N"])((function(){return[Object(a["k"])(u,{color:"light",onClick:t[0]||(t[0]=function(t){return e.$emit("editRequest")})},{default:Object(a["N"])((function(){return[Object(a["k"])(c,{icon:e.icons.create},null,8,["icon"])]})),_:1}),Object(a["k"])(u,{color:"light",onClick:t[1]||(t[1]=function(t){return e.$emit("removeRequest")})},{default:Object(a["N"])((function(){return[Object(a["k"])(c,{icon:e.icons.trash},null,8,["icon"])]})),_:1})]})),_:1})]})),_:1}),Object(a["i"])("div",S,[Object(a["k"])(d,null,{default:Object(a["N"])((function(){return[H,Object(a["i"])("div",R,[Object(a["i"])("h1",null,Object(a["J"])(n.name),1),Object(a["i"])("div",{class:"w-fit d-flex ion-align-items-center margin-auto",onClick:t[2]||(t[2]=function(e){return o.showStatus()})},[V,0==i.status?(Object(a["z"])(),Object(a["h"])("div",A)):1==i.status?(Object(a["z"])(),Object(a["h"])("div",I)):(Object(a["z"])(),Object(a["h"])("div",T))])])]})),_:1}),Object(a["k"])(f,{expand:"block",class:"mb-3",color:"tertiary",onClick:t[3]||(t[3]=Object(a["P"])((function(e){return o.feed()}),["self"])),disabled:i.isFeeding},{default:Object(a["N"])((function(){return[Object(a["j"])(Object(a["J"])(i.isFeeding?"Dávkovanie prebieha...":"Spustiť teraz"),1)]})),_:1},8,["disabled"]),Object(a["k"])(k,{lines:"none"},{default:Object(a["N"])((function(){return[Object(a["k"])(p,{class:"mb-2"},{default:Object(a["N"])((function(){return[Object(a["k"])(b,null,{default:Object(a["N"])((function(){return[F,Object(a["k"])(c,{icon:e.icons.add,slot:"end",onClick:t[4]||(t[4]=function(e){return o.openPlanModal()})},null,8,["icon"])]})),_:1})]})),_:1}),Object(a["k"])(a["c"],{name:"list",tag:"ion-reorder-group",class:"swiper-no-swiping",onIonItemReorder:t[5]||(t[5]=function(e){return o.reorderPlans(e)}),disabled:!1},{default:Object(a["N"])((function(){return[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["F"])(n.plans,(function(t,r){return Object(a["z"])(),Object(a["f"])(h,{key:t},{default:Object(a["N"])((function(){return[Object(a["k"])(b,{onClick:Object(a["P"])((function(e){return o.openPlanModal(r)}),["self"])},{default:Object(a["N"])((function(){return[Object(a["i"])("p",{slot:"start",onClick:function(e){return o.openPlanModal(r)}},Object(a["J"])(o.formatSelection(i.selectableDays,t.days)),9,E),Object(a["i"])("div",U,[Object(a["i"])("p",null,Object(a["J"])(t.time),1),Object(a["k"])(j,{modelValue:t.active,"onUpdate:modelValue":function(e){return t.active=e}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:2},1032,["onClick"]),Object(a["k"])(m,{side:"start"},{default:Object(a["N"])((function(){return[n.plans.length>1?(Object(a["z"])(),Object(a["f"])(O,{key:0,color:"secondary",class:"start"},{default:Object(a["N"])((function(){return[Object(a["k"])(v,null,{default:Object(a["N"])((function(){return[Object(a["k"])(c,{icon:e.icons.list},null,8,["icon"])]})),_:1})]})),_:1})):Object(a["g"])("",!0)]})),_:1}),Object(a["k"])(m,null,{default:Object(a["N"])((function(){return[Object(a["k"])(O,{color:"danger",onClick:function(e){return o.removePlan(r)}},{default:Object(a["N"])((function(){return[Object(a["k"])(c,{icon:e.icons.trash},null,8,["icon"])]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])]})),_:1})}var J=n("2909"),L=(n("6062"),n("3ca3"),n("ddb0"),n("d81d"),n("fb6a"),n("a15b"),n("4de4"),n("1276"),{class:"grid-item"}),Z=Object(a["i"])("h4",null,"Vyberte čas:",-1),B=Object(a["i"])("h4",null,"Vyberte dni:",-1),q={class:"buttons-wrapper"},K=Object(a["j"])("Zrušiť"),X=Object(a["j"])("Potvrdiť");function G(e,t,n,r,i,o){var c=Object(a["H"])("ion-datetime"),u=Object(a["H"])("Selection"),s=Object(a["H"])("ion-button"),l=Object(a["H"])("Modal");return Object(a["z"])(),Object(a["f"])(l,{title:"Časový plán",ref:"modal"},{default:Object(a["N"])((function(){return[Object(a["i"])("div",null,[Object(a["i"])("div",L,[Z,Object(a["k"])(c,{class:"time-picker",size:"cover","hour-cycle":"h23",presentation:"time",mode:"md",value:e.modalTime,onIonChange:t[0]||(t[0]=function(t){return e.modalTime=t.target.value})},null,8,["value"])]),B,Object(a["k"])(u,{values:n.selectableDays.map((function(e){return e.substring(0,1)})),ref:"selection"},null,8,["values"])]),Object(a["i"])("div",q,[Object(a["k"])(s,{color:"secondary",onClick:t[1]||(t[1]=function(t){return e.$refs.modal.closeModal()}),ref:"cancel"},{default:Object(a["N"])((function(){return[K]})),_:1},512),Object(a["k"])(s,{color:"tertiary",onClick:t[2]||(t[2]=function(e){return o.saveModal()}),ref:"save"},{default:Object(a["N"])((function(){return[X]})),_:1},512)])]})),_:1},512)}n("caad"),n("2532");var Q={class:"selector d-flex ion-justify-content-evenly"},W=["onClick"],Y={class:"name-wrapper"};function ee(e,t,n,r,i,o){var c=Object(a["H"])("ion-icon");return Object(a["z"])(),Object(a["h"])("div",Q,[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["F"])(n.values,(function(t,n){return Object(a["z"])(),Object(a["h"])("div",{key:n,class:Object(a["r"])(["data d-flex ion-align-items-center",{active:i.activeValues.includes(n)}]),onClick:function(e){return o.toggleTagFilter(n)}},[Object(a["i"])("div",Y,[Object(a["i"])("p",null,Object(a["J"])(t),1)]),Object(a["k"])(c,{icon:e.icons.ellipse},null,8,["icon"])],10,W)})),128))])}n("4e82");var te={props:{values:{type:Array,default:[]},multiselection:{type:Boolean,default:!0}},data:function(){return{activeValues:[]}},methods:{toggleTagFilter:function(e){if(this.multiselection){var t=this.activeValues.indexOf(e);t>-1?this.activeValues.splice(t,1):this.activeValues.push(e),this.$emit("selected",this.activeValues)}else this.activeValues=[e]}},computed:{selectedValues:function(){return this.activeValues.sort()}}};n("0171");const ne=c()(te,[["render",ee],["__scopeId","data-v-f59d2076"]]);var re=ne,ae={class:"content"};function ie(e,t,n,r,i,o){var c=Object(a["H"])("ion-title"),u=Object(a["H"])("ion-icon"),s=Object(a["H"])("ion-toolbar"),l=Object(a["H"])("ion-header"),d=Object(a["H"])("ion-content");return Object(a["z"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(l,null,{default:Object(a["N"])((function(){return[Object(a["k"])(s,null,{default:Object(a["N"])((function(){return[Object(a["k"])(c,null,{default:Object(a["N"])((function(){return[Object(a["j"])(Object(a["J"])(n.title),1)]})),_:1}),n.hasCloseButton?(Object(a["z"])(),Object(a["f"])(u,{key:0,slot:"end",icon:e.icons.closeOutline,onClick:t[0]||(t[0]=function(e){return o.closeModal()})},null,8,["icon"])):Object(a["g"])("",!0)]})),_:1})]})),_:1}),Object(a["k"])(d,{class:"ion-padding"},{default:Object(a["N"])((function(){return[Object(a["i"])("div",ae,[Object(a["G"])(e.$slots,"default")])]})),_:3})],64)}var oe={props:{title:{type:String,default:"Title"},hasCloseButton:{type:Boolean,default:!0}},methods:{closeModal:function(){this.$emit("closeClicked"),this.modalController.dismiss()}}};const ce=c()(oe,[["render",ie]]);var ue=ce,se={components:{Selection:re,Modal:ue},props:{selectableDays:{type:Array,default:[]},time:{type:String,default:"08:30"},selectedDays:{type:Array,default:[]}},created:function(){var e=this;this.modalTime=this.time,setTimeout((function(){e.$refs.selection.activeValues=e.selectedDays}),100)},methods:{saveModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$refs.selection.selectedValues,r=n.length<=0?"Prosím vyberte aspoň 1 deň!":void 0,!r){t.next=6;break}return t.next=5,e.toast(r,"danger");case 5:return t.abrupt("return",t.sent);case 6:e.modalController.dismiss({days:n,time:e.modalTime});case 7:case"end":return t.stop()}}),t)})))()}}};const le=c()(se,[["render",G]]);var de=le,fe=n("bc3a"),be=n.n(fe),pe={props:{name:{type:String},ip:{type:String},deviceProfiles:{type:Array},plans:{type:Array}},data:function(){return{selectableDays:["Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota","Nedela"],isFeeding:!1,status:1}},watch:{plans:{handler:function(e,t){this.sendPlansToDevice()},deep:!0},ip:function(){this.updateStatus(1500)},status:function(){0==this.status&&this.sendPlansToDevice()}},methods:{openPlanModal:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.length>0&&void 0!==e[0]?e[0]:-1,!(-1==o&&t.plans.length>=12)){n.next=5;break}return n.next=4,t.toast("Priveľa časových plánov!","danger");case 4:return n.abrupt("return",n.sent);case 5:return n.next=7,t.modal(de,{selectableDays:t.selectableDays,time:-1!=o&&/^\d\d\:\d\d$/.test(t.plans[o].time)?t.plans[o].time:"08:30",selectedDays:Object(J["a"])(null!==(r=-1==o?null===(a=t.plans[t.plans.length-1])||void 0===a?void 0:a.days:null===(i=t.plans[o])||void 0===i?void 0:i.days)&&void 0!==r?r:[])});case 7:return t.addPlanModal=n.sent,n.next=10,t.addPlanModal.onDidDismiss();case 10:if(c=n.sent,u=c.data,u){n.next=14;break}return n.abrupt("return");case 14:-1==o?(u.active=!0,t.plans.push(u)):(t.plans[o].days=u.days,t.plans[o].time=u.time);case 15:case"end":return n.stop()}}),n)})))()},formatSelection:function(e,t){if(t=Object(J["a"])(new Set(t)),1==t.length)return e[t[0]];for(var n=!0,r=0,a=t[r]-1;r<t.length;r++){if(a+1!=t[r]){n=!1;break}a=t[r]}var i=t.map((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.substring(0,2)}));return n?i[0]+" - "+i.slice(-1):i.join(", ")},removePlan:function(e){this.plans.splice(e,1)},reorderPlans:function(e){var t=this.plans.splice(e.detail.from,1)[0];this.plans.splice(e.detail.to,0,t),e.detail.complete()},urlifiedIp:function(){return/^https?:\/\//i.test(this.ip)?this.ip:this.http+"://"+this.ip},updateStatus:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:t.status?12e3:1500,n.next=3,be.a.get(t.urlifiedIp()+"/",{timeout:r}).then((function(e){t.status="CodeX Pet Feeder zariadenie root!"==e.data?0:"Adresa "+t.ip+" nieje kromitko CodeX Pet Feeder!"})).catch((function(e){var n;e.response&&"ECONNABORTED"!=e.code?t.status=null!==(n=e.message)&&void 0!==n?n:"Status 2":t.status=1}));case 3:return n.sent,n.abrupt("return",t.status);case 5:case"end":return n.stop()}}),n)})))()},showStatus:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=0==e.status?"Zariadenie je online!":1!=e.status?"Chyba konektivity zariadenia: "+e.status:"Zariadenie je offline!",t.next=3,e.toast(n,0==e.status?"success":"danger");case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},sendPlansToDevice:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.status){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=e.urlifiedIp(),t.next=6,be.a.get(n+"/resetAll/?now");case 6:r=e.plans.filter((function(e){return e.active})),a=0;case 8:if(!(a<r.length)){t.next=17;break}for(i=r[a].time.split(":"),o=n+"/plans/?set"+a+"&hour="+i[0]+"&minute="+i[1],c=0;c<r[a].days.length;c++)o+="&day"+r[a].days[c];return t.next=14,be.a.get(o);case 14:a++,t.next=8;break;case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t["catch"](2),t.next=23,e.updateStatus();case 23:case"end":return t.stop()}}),t,null,[[2,19]])})))()},feed:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.status){t.next=2;break}return t.abrupt("return",e.showStatus());case 2:return e.isFeeding=!0,t.next=5,be.a.get(e.urlifiedIp()+"/start/?now").catch((function(t){return t.response&&"ECONNABORTED"!=t.code?{errMessage:"Dávkovanie zlyhalo!"}:(e.status=1,{errMessage:"Zariadenie je offline! Dávkovanie zlyhalo!"})}));case 5:return r=t.sent,e.isFeeding=!1,t.next=9,e.toast(null!==(n=r.errMessage)&&void 0!==n?n:"Dávkovanie spustené!",r.errMessage?"danger":"success");case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;this.keepAliveLoop=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updateStatus();case 2:setTimeout((function(){e.keepAliveLoop&&e.keepAliveLoop(2e3)}),n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.keepAliveLoop()},unmounted:function(){this.keepAliveLoop=null}};const je=c()(pe,[["render",$]]);var ve=je,Oe=function(e){return Object(a["C"])("data-v-1b433241"),e=e(),Object(a["A"])(),e},me=Oe((function(){return Object(a["i"])("h4",null,"Názov zariadenia:",-1)})),he=Oe((function(){return Object(a["i"])("h4",{class:"mt-1"},"IP adresa:",-1)})),ke={class:"buttons-wrapper"},ge=Object(a["j"])("Zrušiť"),we=Object(a["j"])("Potvrdiť");function ye(e,t,n,r,i,o){var c=Object(a["H"])("ion-input"),u=Object(a["H"])("ion-button"),s=Object(a["H"])("Modal");return Object(a["z"])(),Object(a["f"])(s,{title:n.device?"Zariadenie":"Nové zariadenie",ref:"modal"},{default:Object(a["N"])((function(){return[me,Object(a["k"])(c,{type:"text",placeholder:"Názov...",modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.name=e}),modelModifiers:{trim:!0},class:Object(a["r"])(["ion-padding",{invalid:o.isNameAssigned()}]),ref:"nameInput"},null,8,["modelValue","class"]),he,Object(a["k"])(c,{type:"text",placeholder:"IP adresa...",modelValue:n.ip,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.ip=e}),modelModifiers:{trim:!0},class:Object(a["r"])(["ion-padding",{invalid:o.isIpAssigned()||!o.isIpValid(n.ip)&&n.ip.length}])},null,8,["modelValue","class"]),Object(a["i"])("div",ke,[Object(a["k"])(u,{color:"secondary",onClick:t[2]||(t[2]=function(t){return e.$refs.modal.closeModal()})},{default:Object(a["N"])((function(){return[ge]})),_:1}),Object(a["k"])(u,{color:"tertiary",onClick:t[3]||(t[3]=function(e){return o.saveModal()})},{default:Object(a["N"])((function(){return[we]})),_:1})])]})),_:1},8,["title"])}var xe={components:{Modal:ue},props:{name:{type:String,default:""},ip:{type:String,default:""},networkName:{type:String,default:""},networkPassword:{type:String,default:""},device:{type:Object,default:void 0},deviceProfiles:{type:Array,default:[]}},mounted:function(){var e=this;setTimeout((function(){return e.$refs.nameInput.$el.setFocus()}),800)},methods:{isNameAssigned:function(){var e,t=this;return this.deviceProfiles.some((function(e){return e.name==t.name}))&&this.name!=(null===(e=this.device)||void 0===e?void 0:e.name)},isIpAssigned:function(){var e,t=this;return this.deviceProfiles.some((function(e){return e.ip==t.ip}))&&this.ip!=(null===(e=this.device)||void 0===e?void 0:e.ip)},isIpValid:function(e){return/^(https?:\/\/)?(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\:[0-9]?[0-9]?[0-9]?[0-9]?)?$/.test(e)},saveModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.name&&e.ip?e.isNameAssigned()?"Zariadenie s týmto názvom už exsistuje!":e.isIpAssigned()?"Zariadenie s touto IP už existuje!":e.isIpValid(e.ip)?void 0:"Nesprávny formát ip IP adresy!":"Prosím vyplňte všetky údaje!",!n){t.next=5;break}return t.next=4,e.toast(n,"danger");case 4:return t.abrupt("return",t.sent);case 5:e.modalController.dismiss({name:e.name,ip:e.ip});case 6:case"end":return t.stop()}}),t)})))()}}};n("7a21");const Ne=c()(xe,[["render",ye],["__scopeId","data-v-1b433241"]]);var Pe=Ne,_e=function(e){return Object(a["C"])("data-v-7e0cf882"),e=e(),Object(a["A"])(),e},Ce=_e((function(){return Object(a["i"])("h4",null,"Údaje o vašej sieti",-1)})),De=_e((function(){return Object(a["i"])("p",null,"Aplikácia potrebuje údaje o vašej sieti aby vedela komunikovať so zariadeniami! Pamätajte že vaše mobilné zariadenie musí byť na rovnakej sieti ako zariadenie!",-1)})),ze=_e((function(){return Object(a["i"])("h6",{class:"mt-1"},"Názov vašej siete:",-1)})),Me=_e((function(){return Object(a["i"])("h6",{class:"mt-1"},"Heslo vašej siete:",-1)})),Se=_e((function(){return Object(a["i"])("h4",{class:"mt-5"},"Vaše dáta",-1)})),He=_e((function(){return Object(a["i"])("p",null,"Skopírujte, preneste a vložte tento text do iného mobilného zariadenia pre synchronizáciu vašich dát o zariadeniach!",-1)})),Re={class:"d-flex"},Ve=Object(a["j"])("Vložiť"),Ae=Object(a["j"])("Kopírovať"),Ie={class:"buttons-wrapper"},Te=Object(a["j"])("Zrušiť"),Fe={key:1};function Ee(e,t,n,r,i,o){var c=Object(a["H"])("ion-input"),u=Object(a["H"])("ion-icon"),s=Object(a["H"])("ion-button"),l=Object(a["H"])("Modal");return Object(a["z"])(),Object(a["f"])(l,{title:"Užívateľské dáta",ref:"modal"},{default:Object(a["N"])((function(){return[Ce,De,ze,Object(a["k"])(c,{type:"text",placeholder:"Moja domáca sieť...",modelValue:i.networkName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.networkName=e}),modelModifiers:{trim:!0},class:"ion-padding"},null,8,["modelValue"]),Me,Object(a["k"])(c,{type:"password",placeholder:"Heslo domácej siete...",modelValue:i.networkPassword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.networkPassword=e}),modelModifiers:{trim:!0},class:"ion-padding"},null,8,["modelValue"]),Se,He,Object(a["O"])(Object(a["i"])("textarea",{class:Object(a["r"])(["width-100",{invalid:!o.isValid()}]),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.data=e})},null,2),[[a["L"],i.data,void 0,{trim:!0}]]),Object(a["i"])("div",Re,[Object(a["k"])(s,{color:"light",class:"small",onClick:t[3]||(t[3]=function(e){return o.back()})},{default:Object(a["N"])((function(){return[Object(a["k"])(u,{icon:e.icons.arrow},null,8,["icon"])]})),_:1}),Object(a["k"])(s,{color:"light",onClick:t[4]||(t[4]=function(e){return o.paste()})},{default:Object(a["N"])((function(){return[Ve]})),_:1}),Object(a["k"])(s,{color:"light",onClick:t[5]||(t[5]=function(e){return o.copy()})},{default:Object(a["N"])((function(){return[Ae]})),_:1})]),Object(a["i"])("div",Ie,[Object(a["k"])(s,{color:"secondary",onClick:t[6]||(t[6]=function(t){return e.$refs.modal.closeModal()}),ref:"cancel"},{default:Object(a["N"])((function(){return[Te]})),_:1},512),Object(a["k"])(s,{color:"tertiary",onClick:t[7]||(t[7]=function(e){return o.saveModal()}),ref:"save"},{default:Object(a["N"])((function(){return[i.confirm?(Object(a["z"])(),Object(a["f"])(u,{key:0,icon:e.icons.checkmarkSharp},null,8,["icon"])):(Object(a["z"])(),Object(a["h"])("div",Fe,"Potvrdiť"))]})),_:1},512)])]})),_:1},512)}var Ue={components:{Modal:ue},data:function(){return{data:localStorage.getItem("appData"),oldData:localStorage.getItem("appData"),networkName:"",networkPassword:"",changeCount:0,confirm:0}},mounted:function(){var e=JSON.parse(localStorage.getItem("networkData"));e&&(this.networkName=e.networkName,this.networkPassword=e.networkPassword)},watch:{data:function(e,t){this.oldData=t,this.changeCount++,this.confirm=0}},methods:{isValid:function(){try{if(this.data){var e=JSON.parse(this.data);return e.forEach((function(t){if(!t.ip||!t.name||!t.plans)return e=!1})),e}return[]}catch(t){return!1}},paste:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.readText();case 2:return e.data=t.sent,t.next=5,e.toast("Text vložený!");case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},copy:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return navigator.clipboard.writeText(e.data),t.next=3,e.toast("Text skopírovaný!");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},back:function(){this.data=this.oldData},saveModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.isValid(),!n){t.next=7;break}if(!(e.changeCount&&e.confirm++<=0)){t.next=4;break}return t.abrupt("return");case 4:return r={networkName:e.networkName,networkPassword:e.networkPassword},localStorage.setItem("networkData",JSON.stringify(r)),t.abrupt("return",e.modalController.dismiss({data:e.changeCount?n:void 0,networkData:r}));case 7:return t.next=9,e.toast("Zadané dáta sú chybné!","danger");case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}}};n("b35c");const $e=c()(Ue,[["render",Ee],["__scopeId","data-v-7e0cf882"]]);var Je=$e,Le=n("d867"),Ze={components:{Header:D,DeviceCard:ve,AddDeviceModal:Pe},data:function(){return{deviceProfiles:[],swiperSettings:{slidesPerView:1,spaceBetween:40,pagination:{clickable:!0}}}},watch:{deviceProfiles:{handler:function(e,t){localStorage.setItem("appData",JSON.stringify(e))},deep:!0}},methods:{test:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,be.a.get("https://www.google.com/");case 3:return e.t1=e.sent,e.t2="google:"+e.t1,e.t0.log.call(e.t0,e.t2),e.t3=console,e.next=9,be.a.get("https://www.speedtest.net/");case 9:e.t4=e.sent,e.t5="speed test:"+e.t4,e.t3.log.call(e.t3,e.t5);case 12:case"end":return e.stop()}}),e)})))()},confirmDeviceDelete:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Le["alertController"].create({header:"Vymazať zariadenie?",message:"Naozaj chcete trvalo odstrániť toto zariadenie a všetky jeho časové plány?",buttons:["Zrušiť",{text:"Potvrdiť",handler:function(){t.deviceProfiles.splice(e,1)}}]});case 2:return r=n.sent,n.next=5,r.present();case 5:case"end":return n.stop()}}),n)})))()},openUserDataModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.modal(Je);case 2:return e.userDataModal=t.sent,t.next=5,e.userDataModal.onDidDismiss();case 5:if(n=t.sent,r=n.data,r){t.next=9;break}return t.abrupt("return");case 9:e.networkData=r.networkData,r.data&&(e.deviceProfiles=r.data);case 11:case"end":return t.stop()}}),t)})))()},openDeviceModal:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:-1,n.next=3,t.modal(Pe,{device:-1==r?void 0:t.deviceProfiles[r],name:-1==r?"":t.deviceProfiles[r].name,ip:-1==r?"":t.deviceProfiles[r].ip,deviceProfiles:t.deviceProfiles});case 3:return t.addDeviceModal=n.sent,n.next=6,t.addDeviceModal.onDidDismiss();case 6:if(a=n.sent,i=a.data,i){n.next=10;break}return n.abrupt("return");case 10:-1==r?(i.plans=[],t.deviceProfiles.push(i),t.deviceProfiles.length>1&&(o=t.$refs.deviceSwiper.$el.swiper,setTimeout((function(){return o.slideTo(t.deviceProfiles.length,400)}),10))):(t.deviceProfiles[r].name=i.name,t.deviceProfiles[r].ip=i.ip);case 11:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.test();case 2:n=JSON.parse(localStorage.getItem("appData")),n&&(e.deviceProfiles=n),a=JSON.parse(localStorage.getItem("networkData")),a&&(e.networkData=a),i=e,o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(n=i.networkData)||void 0===n||!n.networkName||null===(r=i.networkData)||void 0===r||!r.networkPassword){e.next=3;break}return e.next=3,be.a.get(i.http+"://192.168.4.1/wifiData/?set&ssid="+i.networkData.networkName+"&password="+i.networkData.networkPassword,{timeout:14e3}).then((function(e){return e})).catch((function(e){}));case 3:setTimeout((function(){o(4e3)}),t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o();case 9:case"end":return t.stop()}}),t)})))()}};n("3b60");const Be=c()(Ze,[["render",y],["__scopeId","data-v-bea54abc"]]);var qe=Be,Ke=function(e){return Object(a["C"])("data-v-6fd9900b"),e=e(),Object(a["A"])(),e},Xe=Ke((function(){return Object(a["i"])("h1",null,"Sorry but this is not the page you are looking for!",-1)})),Ge={key:0},Qe=Ke((function(){return Object(a["i"])("img",{src:"https://lh3.googleusercontent.com/jq1i1nFKtLmxQI70ss58AfAwZi0Ef44ie62bthVndVBeHrPL04Ea46560tm-Pdki7phe=w300"},null,-1)})),We=Ke((function(){return Object(a["i"])("p",null,"Please accept this dinosaur instead!",-1)})),Ye=[Qe,We];function et(e,t){return Object(a["z"])(),Object(a["h"])(a["a"],null,[Xe,Math.random()>.92?(Object(a["z"])(),Object(a["h"])("div",Ge,Ye)):Object(a["g"])("",!0)],64)}n("3814");const tt={},nt=c()(tt,[["render",et],["__scopeId","data-v-6fd9900b"]]);var rt=nt,at=[{path:"/feedit",redirect:"/"},{path:"/",name:"Main",component:qe},{path:"/:catchAll(.*)",name:"NotFound",component:rt}],it=Object(d["a"])({history:Object(d["b"])("/"),routes:at}),ot=it,ct=n("9483");Object(ct["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("8c28"),n("6aea");var ut=n("ff79"),st=(n("e25d"),n("8349")),lt=n("4da1"),dt=(n("9e56"),n("24f8")),ft=n.n(dt);lt["c"].use([lt["a"],lt["b"]]),be.a.defaults.timeout=3e3,be.a.defaults.httpsAgent=new ft.a.Agent({rejectUnauthorized:!1});var bt=Object(a["e"])(l).use(Le["IonicVue"]).use(ot);bt.mixin({methods:{modal:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:{},r.next=3,n.modalController.create({component:e,breakpoints:[0,1],initialBreakpoint:1,componentProps:a});case 3:return i=r.sent,i.present(),r.abrupt("return",i);case 6:case"end":return r.stop()}}),r)})))()},toast:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:"success",i=t.length>2&&void 0!==t[2]?t[2]:2500,r.next=4,n.toastController.create({color:a,message:e,duration:i});case 4:return o=r.sent,o.present(),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}},data:function(){return{icons:new Proxy(Object.keys(ut).reduce((function(e,t){return e[t.toLowerCase()]=ut[t],e}),{}),{get:function(e,t){var n=e[t=t.toString().toLowerCase().replace("-","")];if(n)return n;for(var r in e)if(r.indexOf(t)>-1)return e[r]}}),modalController:Le["modalController"],toastController:Le["toastController"],http:"http"}}}),ot.isReady().then((function(){bt.mount("#app")})),Object.keys(Le).forEach((function(e){/^Ion[A-Z].+$/.test(e)&&bt.component(e,Le[e])})),bt.component("swiper",st["a"]),bt.component("swiper-slide",st["b"])},"6aea":function(e,t,n){},7825:function(e,t,n){},"7a21":function(e,t,n){"use strict";n("f64a")},"8c28":function(e,t,n){},b35c:function(e,t,n){"use strict";n("0c88")},de94:function(e,t,n){},e280:function(e,t,n){},e6ff:function(e,t,n){"use strict";n("de94")},f64a:function(e,t,n){},fdb8:function(e,t,n){e.exports=n.p+"img/krmitko1.b6437c50.png"},ff83:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="ff83"}});
//# sourceMappingURL=app.0bf756fc.js.map